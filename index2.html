<html>
    <head>
	    <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.css" />
		<script src="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.js"></script>
		
		<link rel="stylesheet" href="../nyc-map-app/css/styledLayerControl.css" />
		<script src="../nyc-map-app/src/styledLayerControl.js"></script>
		

		
		
		<style>
			#map {
				width:100%;
				height:100%;
		    }
			.leaflet-google-layer{
				z-index: 0;
			}
			.leaflet-map-pane{
				z-index: 100;
			}
			
        </style>
		
    </head>
    <body>
	
	    <div id="map"></div>
	
	    <script>
		//load up my basemaps
		var light_nolabels = L.tileLayer('http://{s}.basemaps.cartocdn.com/light_nolabels/{z}/{x}/{y}.png', {attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'});

		var Esri_WorldImagery = L.tileLayer('http://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}', {attribution: 'Tiles &copy; Esri &mdash; Source: Esri et. al.'});

		var OpenStreetMap_Mapnik = L.tileLayer('http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {maxZoom: 19, attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'});

		var Stamen_TerrainBackground = L.tileLayer('http://stamen-tiles-{s}.a.ssl.fastly.net/terrain-background/{z}/{x}/{y}.png', {
		  attribution: 'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>',  subdomains: 'abcd',  minZoom: 4,  maxZoom: 18,  ext: 'png',  bounds: [[22, -132], [70, -56]] });

		var black_wallpaper = L.tileLayer('http://www.colourlovers.com/wallPaper/1200x800/n/2875/COLOURlovers.com-Gothic_Wallpaper.png', { attribution: '&copy; <a href="http://www.colourlovers.com/lover/candycrack/loveNote">CandyCrack</a> contributors'});


		    // Google layers
		 //   var g_roadmap   = new L.Google('ROADMAP');
		//	var g_satellite = new L.Google('SATELLITE');
		//	var g_terrain   = new L.Google('TERRAIN');
			
			// OSM layers
			var osmUrl='http://{s}.tile.osm.org/{z}/{x}/{y}.png';
			var osmAttrib='Map data Â© <a href="http://openstreetmap.org">OpenStreetMap</a> contributors';
			var osm = new L.TileLayer(osmUrl, {attribution: osmAttrib});
			
			// Bing layers
		//	var bing1 = new L.BingLayer("AvZ2Z8Jve41V_bnPTe2mw4Xi8YWTyj2eT87tSGSsezrYWiyaj0ldMaVdkyf8aik6", {type: 'Aerial'});
		//	var bing2 = new L.BingLayer("AvZ2Z8Jve41V_bnPTe2mw4Xi8YWTyj2eT87tSGSsezrYWiyaj0ldMaVdkyf8aik6", {type: 'Road'});
			
			// Sao Paulo Soybeans Plant
			var soybeans_sp = new L.LayerGroup();
			L.marker([-22, -49.80]).addTo(soybeans_sp),
			L.marker([-23, -49.10]).addTo(soybeans_sp),
			L.marker([-21, -49.50]).addTo(soybeans_sp);
			
			// Sao Paulo Corn Plant
			var corn_sp = new L.LayerGroup();
			L.marker([-22, -48.10]).addTo(corn_sp),
			L.marker([-21, -48.60]).addTo(corn_sp);
			
			// Rio de Janeiro Bean Plant
			var bean_rj = new L.LayerGroup();
			L.marker([-22, -42.10]).addTo(bean_rj),
			L.marker([-23, -42.78]).addTo(bean_rj);
			
			// Rio de Janeiro Corn Plant
			var corn_rj = new L.LayerGroup();
			L.marker([-22, -43.20]).addTo(corn_rj),
			L.marker([-23, -43.50]).addTo(corn_rj);
			
			// Rio de Janeiro Rice Plant
			var rice_rj = new L.LayerGroup();
			L.marker([-22, -42.90]).addTo(rice_rj),
			L.marker([-22, -42.67]).addTo(rice_rj),
			L.marker([-23, -42.67]).addTo(rice_rj);
			
			// Belo Horizonte Sugar Cane Plant
			var sugar_bh = new L.LayerGroup();
			L.marker([-19, -44.90]).addTo(sugar_bh),
			L.marker([-19, -44.67]).addTo(sugar_bh);
			
			// Belo Horizonte Corn Plant
			var corn_bh = new L.LayerGroup();
			L.marker([-19.45, -45.90]).addTo(corn_bh),
			L.marker([-19.33, -45.67]).addTo(corn_bh);

				
			var map = L.map('map', {
				center: [-16, -54],
				zoom: 4
			});
		
		    map.addLayer(light_nolabels);
			
			var baseMaps = [
			                { 
								groupName : "Base Maps",
								expanded : true,
								layers    : {
									"Satellite" :  Esri_WorldImagery,
									"Road Map"  :  OpenStreetMap_Mapnik,
									"Terreno"   :  light_nolabels
								}
					        } /*, {
							    groupName : "OSM Base Maps",
								layers    : {
									"OpenStreetMaps" : osm
								}
                            }/*, {
							    groupName : "Bing Base Maps",
								layers    : {
									"Satellite" : bing1,
									"Road"      : bing2
							  }
                            } */							
			];
					
			var overlays = [
							 {
								groupName : "Sao Paulo",
								expanded : true,
								layers    : { 
									"Soybeans Plant" : soybeans_sp,
									"Corn Plant" 	 : corn_sp
								}	
                             }, {
								groupName : "Rio de Janeiro",
								expanded : true,
								layers    : { 
									"Bean Plant"     : bean_rj,
									"Corn Plant" 	 : corn_rj,
									"Rice Plant"	 : rice_rj		
								}	
                             }, {
								groupName : "Belo Horizonte",
								layers    : { 
									"Sugar Cane Plant"	: sugar_bh		
								}	
                             }							 
			];
			
			// configure StyledLayerControl options for the layer soybeans_sp
			soybeans_sp.StyledLayerControl = {
				removable : true
			}
			
			var options = {
				container_width 	: "300px",
				group_maxHeight     : "80px",
				//container_maxHeight : "350px", 
				exclusive       	: false,
				collapsed			: false
			};
		
		    var control = L.Control.styledLayerControl(baseMaps, overlays, options);
			map.addControl(control);
			
			// test for adding new base layers dynamically
			// to create a new group simply add a layer with new group name
			//control.addBaseLayer( bing1, "Bing Satellite", {groupName : "Bing Maps", expanded: true} );
			//control.addBaseLayer( bing2, "Bing Road", {groupName : "Bing Maps"} );
			
			// test for adding new overlay layers dynamically
			//control.addOverlay( corn_bh, "Corn Plant", {groupName : "Belo Horizonte"} );
			
			//control.removeLayer( corn_sp );
			
			//control.removeGroup( "Rio de Janeiro");
			
		//	var popup = L.popup()
		//	.setLatLng([-16, -54])
		//	.setContent("The data that appears in this application are fictitious and do not represent actual data!")
		//	.openOn(map);
			
			
		
		</script>  

	    
    </body>
	
</html>